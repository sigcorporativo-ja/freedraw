!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=5)}([function(e,t,n){var o;!function(r){"use strict";function i(e,t){function n(t){if(d){var n=t.target.getBoundingClientRect(),r=f.getImageData(t.clientX-n.left,t.clientY-n.top,1,1).data;o.setColor("rgb("+r[0]+","+r[1]+","+r[2]+")"),e.dispatchEvent(y,[o.colorHex,o.colorRGB])}}this.options=function(){for(var e=1;e<arguments.length;e++)for(var t in arguments[e])arguments[e].hasOwnProperty(t)&&(arguments[0][t]=arguments[e][t]);return arguments[0]}({},l,t),this._defaults=l,this._name=a;var o=this,r=e.querySelectorAll(".track")[0],i=e.querySelectorAll(".color")[0],c=e.querySelectorAll(".colorInner")[0],u=null,s=e.querySelectorAll(".colorInput")[0],f=null,d=!1,p=!!document.createElement("canvas").getContext,m="ontouchstart"in document.documentElement,y=document.createEvent("HTMLEvents");return y.initEvent("change",!0,!0),this.colorHex="",this.colorRGB="",this.setColor=function(e){e.indexOf("#")>=0?(o.colorHex=e,o.colorRGB=o.hexToRgb(o.colorHex)):(o.colorRGB=e,o.colorHex=o.rgbToHex(o.colorRGB)),c.style.backgroundColor=o.colorHex,s.value=o.colorHex},this.close=function(){d=!1,r.style.display="none"},this.hexToRgb=function(e){var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return"rgb("+parseInt(t[1],16)+","+parseInt(t[2],16)+","+parseInt(t[3],16)+")"},this.rgbToHex=function(e){function t(e){var t=new Array("0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F");return isNaN(e)?"00":t[(e-e%16)/16]+t[e%16]}var n=e.match(/\d+/g);return"#"+t(n[0])+t(n[1])+t(n[2])},p&&(u=document.createElement("canvas"),r.appendChild(u),f=u.getContext("2d"),function(){var e=new Image,t=(r.currentStyle||window.getComputedStyle(r,!1)).backgroundImage.replace(/"/g,"").replace(/url\(|\)$/gi,"");e.crossOrigin="Anonymous",r.style.backgroundImage="none",e.onload=function(){u.width=this.width,u.height=this.height,f.drawImage(e,0,0,this.width,this.height)},e.src=o.options.backgroundUrl||t}()),function(){var e=m?"touchstart":"mousedown";p&&(i["on"+e]=function(e){e.preventDefault(),e.stopPropagation(),r.style.display="block",document.onmousedown=function(){document.onmousedown=null,o.close()}},m?(u.ontouchstart=function(e){return d=!0,n(e.touches[0]),!1},u.ontouchmove=function(e){return n(e.touches[0]),!1},u.ontouchend=function(){return o.close(),!1}):(u.onmousedown=function(e){e.preventDefault(),e.stopPropagation(),d=!0,n(e),document.onmouseup=function(){return document.onmouseup=null,o.close(),!1}},u.onmousemove=n))}(),o}var a="tinycolorpicker",l={backgroundUrl:null},c=function(e,t){return new i(e,t)};void 0===(o=function(){return c}.call(t,n,t,e))||(e.exports=o)}(window)},function(e,t){e.exports='<div class="m-panel-controls m-freedrawing-tools-panel">\n    <div class="m-control m-comapactionseliminar-toolspanel tools-icon">\n        <button id="eliminar" class="g-cartografia-papelera" title="Eliminar"></button>\n    </div>\n    <div class="m-control m-freedrawingtexto-toolspanel tools-icon">\n        <button id="text" data-geometry-type="Point" class="g-cartografia-comentarios" title="Pintar Texto"></button>\n    </div>\n    <div class="m-control m-freedrawingpoligono-toolspanel tools-icon">\n        <button id="polygon" data-geometry-type="Polygon" class="g-cartografia-poligono" title="Pintar poligono"></button>\n    </div>\n    <div class="m-control m-freedrawinglinea-toolspanel tools-icon">\n        <button id="lineString" data-geometry-type="LineString" class="g-cartografia-lineas" title="Pintar linea"></button>\n    </div>\n    <div class="m-control m-freedrawingpunto-toolspanel tools-icon">\n        <button id="point" data-geometry-type="Point" class="g-cartografia-gps3" title="Pintar punto"></button>\n    </div>\n    <div class="m-control tools-icon" title="Color">\n        <div id="colorPicker">\n            <a class="color">\n                <div class="colorInner"></div>\n            </a>\n            <div id="idTrack" class="track"></div>\n            <ul class="dropdown">\n                <li></li>\n            </ul>\n            <input type="hidden" class="colorInput" value="#ffcc33" />\n        </div>\n    </div>\n</div>'},function(e){e.exports=JSON.parse('{"url":{"name":"freedraw","separator":"*"},"constructor":"M.plugin.FreeDraw","parameters":[{"type":"object","properties":[{"type":"enum","name":"position","possibleValues":["TL","TR","BL","BR"],"position":0}]}],"files":{"ol":{"scripts":["freedraw.ol.min.js"],"styles":["freedraw.ol.min.css"]}},"metadata":{"name":"FreeDraw","description":"Dibujo en el mapa.","text":"Te permite dibujar diferentes geometrias en el mapa con diferentes colores.","version":"1.0.1","date":"Abril, 2021","author":"","org":"Consejería de Hacienda, Industria y Energía. Junta de Andalucía.","tags":"mapea,plugin","icon":"./facade/assets/icons/icons.svg","centralized":true}}')},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);n(3),n(4);var o=n(0),r=n.n(o);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function c(e,t,n){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var o=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=d(e)););return e}(e,t);if(o){var r=Object.getOwnPropertyDescriptor(o,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function u(e,t){return(u=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=d(e);if(t){var r=d(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return f(this,n)}}function f(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&u(e,t)}(i,M.impl.Control);var t,n,o,r=s(i);function i(){return a(this,i),r.apply(this,arguments)}return t=i,(n=[{key:"addTo",value:function(e,t){var n=this;e.getMapImpl().getInteractions().forEach((function(e){e instanceof ol.interaction.DoubleClickZoom&&(n.dblClickInteraction_=e)})),this.facadeMap_=e,c(d(i.prototype),"addTo",this).call(this,e,t)}},{key:"activateClick",value:function(e){this.dblClickInteraction_.setActive(!1),e.getMapImpl().on("dblclick",(function(t){var n=new CustomEvent("mapclicked",{detail:t.coordinate,bubbles:!0});e.getContainer().dispatchEvent(n)}))}},{key:"deactivateClick",value:function(e){this.dblClickInteraction_.setActive(!0),e.getMapImpl().removeEventListener("dblclick")}},{key:"isInteractionInstanceOfDrawOrModify",value:function(e){return e instanceof ol.interaction.Draw||e instanceof ol.interaction.Modify}},{key:"createNewDrawInteraction",value:function(e,t){return new ol.interaction.Draw({source:e.getSource(),type:t})}},{key:"createNewModifyInteraction",value:function(e){return new ol.interaction.Modify({source:e.getSource(),deleteCondition:function(e){return ol.events.condition.shiftKeyOnly(e)&&ol.events.condition.singleClick(e)}})}},{key:"removeInteraction",value:function(e){(e instanceof ol.interaction.Draw||e instanceof ol.interaction.Modify)&&this.facadeMap_.getMapImpl().removeInteraction(e)}},{key:"setStyle",value:function(e,t){t&&t.setStyle(this.getStyle1(e))}},{key:"getStyle1",value:function(e){return new ol.style.Style({fill:new ol.style.Fill({color:"rgba(255, 255, 255, 0.5)"}),stroke:new ol.style.Stroke({color:e,width:2}),image:new ol.style.Circle({radius:7,fill:new ol.style.Fill({color:e})})})}},{key:"getStyle2",value:function(e,t,n,o,r,i,a,l){return new ol.style.Style({text:new ol.style.Text({text:e,font:"".concat(o," ").concat(r," ").concat(n,"px ").concat(t),fill:new ol.style.Fill({color:i}),stroke:new ol.style.Stroke({color:l,width:a})}),stroke:new ol.style.Stroke({color:"rgba(213, 0, 110, 0)",width:0}),fill:new ol.style.Fill({color:"rgba(213, 0, 110, 0)"})})}}])&&l(t.prototype,n),o&&l(t,o),i}(),m=n(1),y=n.n(m);!function(e){var t=["red","yellow","green"];function n(){this.subscribers={},this.on=function(e,t){return this.subscribers[e]=this.subscribers[e]||[],this.subscribers[e].push(t),this},this.emit=function(e){var t=arguments;(this.subscribers[e]||[]).forEach((function(e){e.apply(null,Array.prototype.splice.call(t,1))}))}}function o(e,t,o){n.apply(this),this.targetElem=e,this.elem=null;var r=this;this._initialize=function(){this._createPickerElement(),this._positionPickerElement(),this._addEventListeners()},this.destroy=function(){try{this.elem.parentNode.removeChild(this.elem)}catch(e){}},this._positionPickerElement=function(){var e=this.targetElem.offsetLeft,t=this.targetElem.offsetTop,n=this.targetElem.offsetHeight;this.elem.style.left=e+"px",this.elem.style.top=t+n+"px"},this._onFocusLost=function(){setTimeout((function(){r.elem.contains(document.activeElement)?document.activeElement.addEventListener("blur",r._onFocusLost):r.emit("lostFocus")}),1)},this._createPickerElement=function(){this.elem=document.createElement("div"),this.elem.classList.add("vanilla-color-picker"),o&&this.elem.classList.add(o);for(var e,n=t.indexOf(this.targetElem.dataset.vanillaPickerColor),i=0;i<t.length;i++)this.elem.innerHTML+=(e=t[i],'<div class="vanilla-color-picker-single-color '+(i==n?"vanilla-color-picker-single-color-picked":"")+'" tabindex="'+(i+1)+'" data-color="'+e+'" style="background-color:'+e+'"></div>');this.targetElem.parentNode.appendChild(this.elem),this.elem.setAttribute("tabindex",1);var a=n>-1?n:0;this.elem.children[a].focus(),this.elem.children[a].addEventListener("blur",r._onFocusLost)},this._addEventListeners=function(){var e=this;this.elem.addEventListener("click",(function(t){t.target.classList.contains("vanilla-color-picker-single-color")&&e.emit("colorChosen",t.target.dataset.color)})),this.elem.addEventListener("keydown",(function(t){var n=t.which||t.keyCode;13==n&&e.emit("colorChosen",t.target.dataset.color),27==n&&e.emit("lostFocus")}))},this._initialize()}function r(e){n.apply(this),this.set=this.emit,this.colors=t,this.className="",this.elem=e,this.currentPicker=null;var r=this;this._initialize=function(){this._addEventListeners()},this._addEventListeners=function(){this.elem.addEventListener("click",this.openPicker),this.elem.addEventListener("focus",this.openPicker),this.on("customColors",(function(e){if(!(e instanceof Array))throw new Error("Colors must be an array");r.colors=e})),this.on("defaultColor",(function(e){r.elem.dataset.vanillaPickerColor||(r._updateElemState(e),r.emit("colorChosen",e,r.elem))})),this.on("className",(function(e){r.className=e}))},this._updateElemState=function(e){this.elem.dataset.vanillaPickerColor=e,this.elem.value=e},this.destroyPicker=function(){r.currentPicker&&(r.currentPicker.destroy(),r.currentPicker=null,r.emit("pickerClosed"))},this.openPicker=function(){r.currentPicker||(r.currentPicker=new o(r.elem,r.colors,r.className),r.currentPicker.on("colorChosen",(function(e){r._updateElemState(e),r.destroyPicker(),r.emit("colorChosen",e,r.elem)})),r.currentPicker.on("lostFocus",(function(){r.emit("lostFocus"),r.destroyPicker()})),r.emit("pickerCreated"))},this._initialize()}function i(t,n){return function(){if(!document.getElementById("vanilla-color-picker-style")){var t=document.createElement("style");t.setAttribute("type","text/css"),t.setAttribute("id","vanilla-color-picker-style"),t.innerHTML=".vanilla-color-picker { display: inline-block; position: absolute; z-index: 100; padding: 5px; background-color: #fff; box-shadow: 1px 1px 2px 1px rgba(0,0,0,0.3) } .vanilla-color-picker-single-color { display: inline-block; width: 20px; height: 20px; margin: 1px; border-radius: 2px; }";var n=e.document.head.children[0];n?e.document.head.insertBefore(t,n):e.document.head.appendChild(t)}}(),new r(t,n)}e.define&&e.define.amd?define([],(function(){return i})):e.vanillaColorPicker=i}(window);var h=vanillaColorPicker;function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function b(e,t,n){return(b="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var o=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=S(e)););return e}(e,t);if(o){var r=Object.getOwnPropertyDescriptor(o,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function k(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=S(e);if(t){var r=S(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return _(this,n)}}function _(e,t){return!t||"object"!==v(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var x=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(i,M.Control);var t,n,o,r=k(i);function i(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),M.utils.isUndefined(p)&&M.exception("La implementación usada no puede crear controles FreeDrawControl");var t=new p;return(e=r.call(this,t,"FreeDraw")).editLayer=new M.layer.Vector({name:"freeDrawLayer",source:{},extract:!1}),e.impl=t,e}return t=i,(n=[{key:"createView",value:function(e){var t=this;return this.facadeMap_=e,e.addLayers(this.editLayer),e.getFeatureHandler().removeLayer(this.editLayer),new Promise((function(e,n){var o=M.template.compileSync(y.a);t.template_=o,t.template_.querySelector("div#colorPicker").addEventListener("change",(function(e){return t.changeColor_(e)})),t.template_.querySelector("#text").addEventListener("click",(function(e){return t.manageDraw_(e)})),t.template_.querySelector("#point").addEventListener("click",(function(e){return t.manageDraw_(e)})),t.template_.querySelector("#polygon").addEventListener("click",(function(e){return t.manageDraw_(e)})),t.template_.querySelector("#lineString").addEventListener("click",(function(e){return t.manageDraw_(e)})),t.template_.querySelector("#eliminar").addEventListener("click",(function(e){return t.removeFeatures_(e)})),document.addEventListener("DOMNodeInserted",(function(e){return t.handleOnRemovePopup(e)})),t.editLayer.getImpl().getOL3Layer()&&t.impl.setStyle("#ffcc33",t.editLayer.getImpl().getOL3Layer()),e(t.template_)}))}},{key:"handleOnRemovePopup",value:function(e){var t=this.facadeMap_,n=this.facadeMap_?this.facadeMap_.getPopup():null,o=n?n.getContent():null;t&&null!==n&&null!==o&&0===o.innerText.trim().length&&this.facadeMap_.removePopup(this.facadeMap_.getPopup());var r=this.getPanel()&&this.getPanel().position,i=document.querySelector("div#idTrack");!i||".m-bottom.m-right"!==r&&".m-bottom.m-left"!==r||(i.style.top="-10rem")}},{key:"activate",value:function(){b(S(i.prototype),"activate",this).call(this)}},{key:"getActivationButton",value:function(e){return e.querySelector(".m-freedraw button")}},{key:"equals",value:function(e){return e instanceof i}},{key:"manageDraw_",value:function(e){var t=this,n=!1,o=e.target.getAttribute("data-geometry-type");if(n=this.manageActivatedDeactivated(e.target),[].concat(this.facadeMap_.getMapImpl().getInteractions().getArray()).forEach((function(e){t.getImpl().isInteractionInstanceOfDrawOrModify(e)&&(e&&e.J&&e.J===o&&(n=!0),t.facadeMap_.getMapImpl().removeInteraction(e))})),!n){var r=this.editLayer.getImpl().getOL3Layer();r||(r=this.map_.getLayers().find((function(e){return"freeDrawLayer"===e.name})).getImpl().getOL3Layer(),this.editLayer=this.map_.getLayers().find((function(e){return"freeDrawLayer"===e.name})));var i=null;i=this.getImpl().createNewDrawInteraction(r,o),this.facadeMap_.getMapImpl().addInteraction(i);var a=this.getImpl().createNewModifyInteraction(r);this.facadeMap_.getMapImpl().addInteraction(a),"text"===e.target.id&&i.on("drawend",(function(e){M.dialog.info('<div style="padding-bottom: 15px;">\n              <div style=" padding-bottom: 6px;">\n                <pan>Texto:<input type="text" style="width:97%" id="m-feature-freedrawing-ftext"></pan>\n              </div>\n              <div style="max-width: 99%">\n                <select style=" margin-right: 6px;" id="m-feature-freedrawing-ffont">\n                  <option>Arial</option>\n                  <option>Comic Sans MS</option>\n                  <option>Courier</option>\n                  <option>Monospace</option>\n                  <option>Sans-serif</option>\n                  <option>Times New Roman</option>\n                  <option>Verdana</option>\n                </select>\n                <input type="number" style="width: 50px;margin-right: 6px;" min="12" max="48" value="12"\n                  id="m-feature-freedrawing-fsizefont">\n                <button id="m-feature-freedrawing-fbold" style="font-weight: bold;margin-right: 6px;">N</button>\n                <button id="m-feature-freedrawing-fcursive" style="font-style:italic;margin-right: 6px;">C</button>\n                <div class="just-picker-font" style="width: 22px;height: 19px;border: 1px solid black;\n                  display: inline-block;position: absolute;background-color: rgb(0, 0, 0);"\n                  id="m-feature-freedrawing-fcolorfont"></div>\n              </div>\n            </div>\n            <div>\n              <span>Borde:</span><br>\n              <input type="number" style="width: 50px;margin-right: 6px;" min="1" max="10" value="1"\n                id="m-feature-freedrawing-fsizeborder">\n              <div class="just-picker-border" style="width: 22px; height: 19px;border: 1px solid black;\n                display: inline-block;position: absolute; background-color: rgb(0, 0, 0);"\n                id="m-feature-freedrawing-fcolorborder"></div>\n            </div>',"AÑADIR TEXTO");var n=document.querySelector("div.m-dialog");n.querySelector("div.m-title").style.backgroundColor="#d5006e",n.querySelector("div.m-button>button").style.backgroundColor="#d5006e";var o=document.querySelector("div.m-button > button");o.parentNode.innerHTML+="",o.addEventListener("click",(function(){n.parentNode.removeChild(n)}));var r=document.querySelector("button#m-feature-freedrawing-fbold"),i=document.querySelector("button#m-feature-freedrawing-fcursive");r.addEventListener("click",(function(){r.classList.toggle("m-freedrawig-dialog-button-active")})),i.addEventListener("click",(function(){i.classList.toggle("m-freedrawig-dialog-button-active")})),document.querySelector("div.m-dialog>div.m-modal>div.m-content>div.m-button>button").addEventListener("click",(function(){var o=document.querySelector("input#m-feature-freedrawing-ftext").value,a=document.querySelector("select#m-feature-freedrawing-ffont").value,l=document.querySelector("input#m-feature-freedrawing-fsizefont").value;r=document.querySelector("button#m-feature-freedrawing-fbold").classList.length,i=document.querySelector("button#m-feature-freedrawing-fcursive").classList.length;var c=document.querySelector("div#m-feature-freedrawing-fcolorfont").style.backgroundColor,u=document.querySelector("input#m-feature-freedrawing-fsizeborder").value,s=document.querySelector("div#m-feature-freedrawing-fcolorborder").style.backgroundColor;t.setContent_(e.feature,o,a,l,r,i,c,u,s),n.parentNode.removeChild(n)}));var a=h(document.querySelector("div.just-picker-font"));a.on("colorChosen",(function(e,t){t.style.backgroundColor=e})),a.set("customColors",["#fd5308","#fb9902","#ffcc33","#fefe33","#d0ea2b","#66b032","#0391ce","#0247fe","#3d01a4","#8601af","#a7194b","#fe2712","#000000","#ffffff"]);var l=h(document.querySelector("div.just-picker-border"));l.on("colorChosen",(function(e,t){t.style.backgroundColor=e})),l.set("customColors",["#fd5308","#fb9902","#ffcc33","#fefe33","#d0ea2b","#66b032","#0391ce","#0247fe","#3d01a4","#8601af","#a7194b","#fe2712","#000000","#ffffff"])}))}n=!1}},{key:"deactivate",value:function(e){var t=this;[].concat(this.facadeMap_.getMapImpl().getInteractions().getArray()).forEach((function(e){t.getImpl().removeInteraction(e)}))}},{key:"manageActivatedDeactivated",value:function(e){var t=!1,n=document.querySelector(".m-freedrawing-tools-panel").querySelectorAll(".activated");if(n&&null!=n&&n.length)for(var o=0;o<n.length;o+=1){var r=n[0];r.className===e.className&&(t=!0),r.className=r.className.replace(/\bactivated\b/,"")}return t||(e.className="".concat(e.className," activated")),t}},{key:"desactivateButtoms",value:function(){var e=document.querySelector(".m-freedrawing-tools-panel").querySelectorAll(".activated");if(e&&null!=e&&e.length)for(var t=0;t<e.length;t+=1){var n={target:e[0]};this.manageDraw_(n)}}},{key:"removeFeatures_",value:function(){this.editLayer.clear()}},{key:"destroy",value:function(){this.facadeMap_.getMapImpl().removeControl(this),this.facadeMap_=null}},{key:"changeColor_",value:function(){var e=this.editLayer.getImpl().getOL3Layer();e||(e=this.map_.getLayers().find((function(e){return"freeDrawLayer"===e.name})).getImpl().getOL3Layer(),this.editLayer=this.map_.getLayers().find((function(e){return"freeDrawLayer"===e.name})));var t=this.template_.querySelector("div#colorPicker>input.colorInput").value;this.impl.setStyle(t,e)}},{key:"setContent_",value:function(e,t,n,o,r,i,a,l,c){M.utils.isNullOrEmpty(t)&&(t="Texto"),r=r>0?"bold":"",i=i>0?"italic":"",e.setStyle(this.impl.getStyle2(t,n,o,r,i,a,l,c))}}])&&g(t.prototype,n),o&&g(t,o),i}(),L=n(2);function C(e){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function P(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function O(e,t){return(O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function I(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=D(e);if(t){var r=D(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return j(this,n)}}function j(e,t){return!t||"object"!==C(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function D(e){return(D=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var R=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}(a,M.Plugin);var t,n,o,i=I(a);function a(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return P(this,a),(e=i.call(this)).map_=null,e.controls_=[],e.position_=t.position||"TL","TL"!==e.position_&&"BL"!==e.position_||(e.positionClass_="left"),e.metadata_=L.metadata,e}return t=a,(n=[{key:"addTo",value:function(e){this.map_=e,this.control_=new x,this.control_.on(M.evt.ADDED_TO_PANEL,(function(){var e=document.querySelector("#colorPicker");r()(e)})),this.controls_.push(this.control_),this.map_=e,this.panel_=new M.ui.Panel("panelFreeDraw",{collapsible:!0,className:"m-freedrawing-tools ".concat(this.positionClass_),collapsedButtonClass:"g-cartografia-editar2",position:M.ui.position[this.position_],tooltip:"Dibujo"}),this.panel_.addControls(this.controls_),e.addPanels(this.panel_)}},{key:"destroy",value:function(){if(this.control_){this.control_.desactivateButtoms(),this.control_.removeFeatures_(),this.map_.removeControls([this.control_]);var e=[null,null,null];this.control_=e[0],this.panel_=e[1],this.map_=e[2]}}},{key:"getControls",value:function(){var e=[];return e.push(this.control_),e}},{key:"name",get:function(){return"freedraw"}},{key:"getMetadata",value:function(){return this.metadata_}}])&&E(t.prototype,n),o&&E(t,o),a}();window.M.plugin||(window.M.plugin={}),window.M.control||(window.M.control={}),window.M.impl||(window.M.impl={}),window.M.impl.control||(window.M.impl.control={}),window.M.plugin.FreeDraw=R,window.M.control.FreeDrawControl=x,window.M.impl.control.FreeDrawControl=p}]);
//# sourceMappingURL=freedraw.ol.min.js.map