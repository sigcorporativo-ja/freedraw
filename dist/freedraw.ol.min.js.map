{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/facade/js/tinycolorpicker.min.js","webpack:///./src/templates/freedraw.html","webpack:///./src/impl/ol/js/freedrawcontrol.js","webpack:///./src/facade/js/vanilla-color-picker.js","webpack:///./src/facade/js/freedrawcontrol.js","webpack:///./src/facade/js/freedraw.js","webpack:///./src/index.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","a","f","j","b","target","getBoundingClientRect","q","getImageData","clientX","left","clientY","top","data","k","setColor","dispatchEvent","u","colorHex","colorRGB","this","options","arguments","length","e","_defaults","_name","querySelectorAll","document","createElement","getContext","documentElement","createEvent","initEvent","indexOf","hexToRgb","rgbToHex","style","backgroundColor","close","display","exec","parseInt","Array","isNaN","match","appendChild","Image","currentStyle","window","getComputedStyle","backgroundImage","replace","crossOrigin","onload","width","height","drawImage","src","backgroundUrl","h","preventDefault","stopPropagation","onmousedown","ontouchstart","touches","ontouchmove","ontouchend","onmouseup","onmousemove","define","FreeDrawControl","M","impl","Control","map","html","getMapImpl","getInteractions","forEach","interaction","ol","DoubleClickZoom","dblClickInteraction_","facadeMap_","setActive","on","evt","customEvt","CustomEvent","detail","coordinate","bubbles","getContainer","removeEventListener","Draw","Modify","olLayer","type","source","getSource","deleteCondition","event","events","condition","shiftKeyOnly","singleClick","removeInteraction","color","setStyle","getStyle1","Style","fill","Fill","stroke","Stroke","image","Circle","radius","text","font","sizeFont","bold","cursive","colorFont","sizeBorder","colorBorder","Text","global","DEFAULT_COLORS","MessageMediator","subscribers","eventName","callback","push","emit","arguments_","apply","splice","SinglePicker","elem","colors","className","targetElem","this_","_initialize","_createPickerElement","_positionPickerElement","_addEventListeners","destroy","parentNode","removeChild","offsetLeft","offsetTop","offsetHeight","_onFocusLost","setTimeout","contains","activeElement","addEventListener","classList","add","currentlyChosenColorIndex","dataset","vanillaPickerColor","innerHTML","setAttribute","toFocus","children","focus","_this","keyCode","which","PickerHolder","set","currentPicker","openPicker","Error","_updateElemState","destroyPicker","vanillaColorPicker","element","getElementById","firstInHead","head","insertBefore","addBasicStyling","amd","utils","isUndefined","FreeDrawImplControl","exception","editLayer","layer","Vector","extract","addLayers","getFeatureHandler","removeLayer","Promise","success","fail","template","compileSync","template_","querySelector","changeColor_","manageDraw_","removeFeatures_","handleOnRemovePopup","getImpl","getOL3Layer","facadeMap","currentPopup","getPopup","contextOfPopup","getContent","innerText","trim","removePopup","positionPanel","getPanel","position","elementPickerColor","control","isTheSame","getAttribute","manageActivatedDeactivated","concat","getArray","isInteractionInstanceOfDrawOrModify","J","map_","getLayers","find","draw","createNewDrawInteraction","addInteraction","modify","createNewModifyInteraction","id","dialog","info","okButton","toggle","setContent_","feature","pickerFont","pickerBorder","elements","elementAux","clear","removeControl","isNullOrEmpty","getStyle2","FreeDraw","Plugin","controls_","position_","positionClass_","metadata_","api","metadata","control_","ADDED_TO_PANEL","picker","tinycolorpicker","panel_","ui","Panel","collapsible","collapsedButtonClass","tooltip","addControls","addPanels","desactivateButtoms","removeControls","aControl","plugin","M$plugin$FreeDraw","M$control$FreeDrawControl","M$impl$control$FreeDrawControl"],"mappings":"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","file":"freedraw.ol.min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 5);\n","/*! tinycolorpicker - v0.9.5 - 2015-11-20\n * http://www.baijs.com/tinycolorpicker\n *\n * Copyright (c) 2015 Maarten Baijs <wieringen@gmail.com>;\n * Licensed under the MIT license */\n/* eslint-disable*/\n! function(a) {\n  \"use strict\";\n\n  function b() {\n    for (var a = 1; a < arguments.length; a++)\n      for (var b in arguments[a]) arguments[a].hasOwnProperty(b) && (arguments[0][b] = arguments[a][b]);\n    return arguments[0]\n  }\n\n  function c(c, f) {\n    function g() { return s && (o = document.createElement(\"canvas\"), l.appendChild(o), q = o.getContext(\"2d\"), h()), i(), k }\n\n    function h() {\n      var b = new Image,\n        c = l.currentStyle || window.getComputedStyle(l, !1),\n        d = c.backgroundImage.replace(/\"/g, \"\").replace(/url\\(|\\)$/gi, \"\");\n      b.crossOrigin = \"Anonymous\", l.style.backgroundImage = \"none\", b.onload = function() { o.width = this.width, o.height = this.height, q.drawImage(b, 0, 0, this.width, this.height) }, b.src = k.options.backgroundUrl || d\n    }\n\n    function i() {\n      var a = t ? \"touchstart\" : \"mousedown\";\n      s && (m[\"on\" + a] = function(a) { a.preventDefault(), a.stopPropagation(), l.style.display = \"block\", document.onmousedown = function() { document.onmousedown = null, k.close() } }, t ? (o.ontouchstart = function(a) { return r = !0, j(a.touches[0]), !1 }, o.ontouchmove = function(a) { return j(a.touches[0]), !1 }, o.ontouchend = function() { return k.close(), !1 }) : (o.onmousedown = function(a) { a.preventDefault(), a.stopPropagation(), r = !0, j(a), document.onmouseup = function() { return document.onmouseup = null, k.close(), !1 } }, o.onmousemove = j))\n    }\n\n    function j(a) {\n      if (r) {\n        var b = a.target.getBoundingClientRect(),\n          d = q.getImageData(a.clientX - b.left, a.clientY - b.top, 1, 1).data;\n        k.setColor(\"rgb(\" + d[0] + \",\" + d[1] + \",\" + d[2] + \")\"), c.dispatchEvent(u, [k.colorHex, k.colorRGB])\n      }\n    }\n    this.options = b({}, e, f), this._defaults = e, this._name = d;\n    var k = this,\n      l = c.querySelectorAll(\".track\")[0],\n      m = c.querySelectorAll(\".color\")[0],\n      n = c.querySelectorAll(\".colorInner\")[0],\n      o = null,\n      p = c.querySelectorAll(\".colorInput\")[0],\n      q = null,\n      r = !1,\n      s = !!document.createElement(\"canvas\").getContext,\n      t = \"ontouchstart\" in document.documentElement,\n      u = document.createEvent(\"HTMLEvents\");\n    return u.initEvent(\"change\", !0, !0), this.colorHex = \"\", this.colorRGB = \"\", this.setColor = function(a) { a.indexOf(\"#\") >= 0 ? (k.colorHex = a, k.colorRGB = k.hexToRgb(k.colorHex)) : (k.colorRGB = a, k.colorHex = k.rgbToHex(k.colorRGB)), n.style.backgroundColor = k.colorHex, p.value = k.colorHex }, this.close = function() { r = !1, l.style.display = \"none\" }, this.hexToRgb = function(a) { var b = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(a); return \"rgb(\" + parseInt(b[1], 16) + \",\" + parseInt(b[2], 16) + \",\" + parseInt(b[3], 16) + \")\" }, this.rgbToHex = function(a) {\n      function b(a) { var b = new Array(\"0\", \"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\", \"A\", \"B\", \"C\", \"D\", \"E\", \"F\"); return isNaN(a) ? \"00\" : b[(a - a % 16) / 16] + b[a % 16] }\n      var c = a.match(/\\d+/g);\n      return \"#\" + b(c[0]) + b(c[1]) + b(c[2])\n    }, g()\n  }\n  var d = \"tinycolorpicker\",\n    e = { backgroundUrl: null },\n    f = function(a, b) { return new c(a, b) };\n  \"function\" == typeof define && define.amd ? define(function() { return f }) : \"object\" == typeof module && module.exports ? module.exports = f : a.tinycolorpicker = f\n}(window);\n","module.exports = \"<div class=\\\"m-panel-controls m-freedrawing-tools-panel\\\">\\n    <div class=\\\"m-control m-comapactionseliminar-toolspanel tools-icon\\\">\\n        <button id=\\\"eliminar\\\" class=\\\"g-cartografia-papelera\\\" title=\\\"Eliminar\\\"></button>\\n    </div>\\n    <div class=\\\"m-control m-freedrawingtexto-toolspanel tools-icon\\\">\\n        <button id=\\\"text\\\" data-geometry-type=\\\"Point\\\" class=\\\"g-cartografia-comentarios\\\" title=\\\"Pintar Texto\\\"></button>\\n    </div>\\n    <div class=\\\"m-control m-freedrawingpoligono-toolspanel tools-icon\\\">\\n        <button id=\\\"polygon\\\" data-geometry-type=\\\"Polygon\\\" class=\\\"g-cartografia-poligono\\\" title=\\\"Pintar poligono\\\"></button>\\n    </div>\\n    <div class=\\\"m-control m-freedrawinglinea-toolspanel tools-icon\\\">\\n        <button id=\\\"lineString\\\" data-geometry-type=\\\"LineString\\\" class=\\\"g-cartografia-lineas\\\" title=\\\"Pintar linea\\\"></button>\\n    </div>\\n    <div class=\\\"m-control m-freedrawingpunto-toolspanel tools-icon\\\">\\n        <button id=\\\"point\\\" data-geometry-type=\\\"Point\\\" class=\\\"g-cartografia-gps3\\\" title=\\\"Pintar punto\\\"></button>\\n    </div>\\n    <div class=\\\"m-control tools-icon\\\" title=\\\"Color\\\">\\n        <div id=\\\"colorPicker\\\">\\n            <a class=\\\"color\\\">\\n                <div class=\\\"colorInner\\\"></div>\\n            </a>\\n            <div id=\\\"idTrack\\\" class=\\\"track\\\"></div>\\n            <ul class=\\\"dropdown\\\">\\n                <li></li>\\n            </ul>\\n            <input type=\\\"hidden\\\" class=\\\"colorInput\\\" value=\\\"#ffcc33\\\" />\\n        </div>\\n    </div>\\n</div>\";","/**\n * @module M/impl/control/FreeDrawControl\n */\nexport default class FreeDrawControl extends M.impl.Control {\n  /**\n   * This function adds the control to the specified map\n   *\n   * @public\n   * @function\n   * @param {M.Map} map to add the plugin\n   * @param {HTMLElement} html of the plugin\n   * @api stable\n   */\n  addTo(map, html) {\n    // obtengo la interacción por defecto del dblclick para manejarla\n    const olMap = map.getMapImpl();\n    olMap.getInteractions().forEach((interaction) => {\n      if (interaction instanceof ol.interaction.DoubleClickZoom) {\n        this.dblClickInteraction_ = interaction;\n      }\n    });\n    this.facadeMap_ = map;\n    // super addTo - don't delete\n    super.addTo(map, html);\n  }\n\n  // Add your own functions\n  activateClick(map) {\n    // desactivo el zoom al dobleclick\n    this.dblClickInteraction_.setActive(false);\n\n    // añado un listener al evento dblclick\n    const olMap = map.getMapImpl();\n    olMap.on('dblclick', (evt) => {\n      // disparo un custom event con las coordenadas del dobleclick\n      const customEvt = new CustomEvent('mapclicked', {\n        detail: evt.coordinate,\n        bubbles: true,\n      });\n      map.getContainer().dispatchEvent(customEvt);\n    });\n  }\n\n  deactivateClick(map) {\n    // activo el zoom al dobleclick\n    this.dblClickInteraction_.setActive(true);\n\n    // elimino el listener del evento\n    map.getMapImpl().removeEventListener('dblclick');\n  }\n\n  /**\n   * This function checks if an interaction is\n   * an instance of Draw or Modify\n   */\n  isInteractionInstanceOfDrawOrModify(interaction) {\n    if (interaction instanceof ol.interaction.Draw ||\n      interaction instanceof ol.interaction.Modify) {\n      return true;\n    }\n    return false;\n  }\n\n  /**\n   * This function creates a new ol.interaction.Draw object\n   * @param {*} features\n   * @param {*} type\n   */\n  createNewDrawInteraction(olLayer, type) {\n    const newDraw = new ol.interaction.Draw({\n      source: olLayer.getSource(),\n      type,\n    });\n    return newDraw;\n  }\n\n  /**\n   * This function creates a new ol.interaction.Modify object\n   * @param {*} features\n   */\n  createNewModifyInteraction(olLayer) {\n    return new ol.interaction.Modify({\n      source: olLayer.getSource(),\n      deleteCondition: (event) => {\n        return ol.events.condition.shiftKeyOnly(event) &&\n          ol.events.condition.singleClick(event);\n      },\n    });\n  }\n\n  removeInteraction(interaction) {\n    if (interaction instanceof ol.interaction.Draw ||\n      interaction instanceof ol.interaction.Modify) {\n      this.facadeMap_.getMapImpl().removeInteraction(interaction);\n    }\n  }\n\n  setStyle(color, olLayer) {\n    if (olLayer) {\n      olLayer.setStyle(this.getStyle1(color));\n    }\n  }\n\n  getStyle1(color) {\n    const newStyle = new ol.style.Style({\n      fill: new ol.style.Fill({\n        color: 'rgba(255, 255, 255, 0.5)',\n      }),\n      stroke: new ol.style.Stroke({\n        color,\n        width: 2,\n      }),\n      image: new ol.style.Circle({\n        radius: 7,\n        fill: new ol.style.Fill({\n          color,\n        }),\n      }),\n    });\n    return newStyle;\n  }\n\n  getStyle2(text, font, sizeFont, bold, cursive, colorFont, sizeBorder, colorBorder) {\n    return new ol.style.Style({\n      text: new ol.style.Text({\n        text,\n        font: `${bold} ${cursive} ${sizeFont}px ${font}`,\n        fill: new ol.style.Fill({\n          color: colorFont,\n        }),\n        stroke: new ol.style.Stroke({\n          color: colorBorder,\n          width: sizeBorder,\n        }),\n      }),\n      stroke: new ol.style.Stroke({\n        color: 'rgba(213, 0, 110, 0)',\n        width: 0,\n      }),\n      fill: new ol.style.Fill({\n        color: 'rgba(213, 0, 110, 0)',\n      }),\n    });\n  }\n}\n","// ============================================================\n//\n// Vanilla Color Picker v 0.1.8\n//\n// http://github.com/miroshko/vanilla-color-picker\n//\n// This project is licensed under the terms of the MIT license.\n//\n// ============================================================\n\n/* eslint-disable*/\n(function vanillaColorPicker(global) {\n\n  // @todo: bind in as a build step, so css is readable\n  var basicCSS = '.vanilla-color-picker { display: inline-block; position: absolute; z-index: 100; padding: 5px; background-color: #fff; box-shadow: 1px 1px 2px 1px rgba(0,0,0,0.3) } .vanilla-color-picker-single-color { display: inline-block; width: 20px; height: 20px; margin: 1px; border-radius: 2px; }';\n\n  function singleColorTpl(color, index, picked) {\n    var pickedClass = picked ? \"vanilla-color-picker-single-color-picked\" : '';\n    return '<div class=\"vanilla-color-picker-single-color ' + pickedClass + '\" tabindex=\"' + index + '\" data-color=\"' + color + '\" style=\"background-color:' + color + '\"></div>';\n  }\n  var DEFAULT_COLORS = ['red', 'yellow', 'green'];\n\n  function addBasicStyling() {\n    if (document.getElementById('vanilla-color-picker-style')) {\n      return;\n    }\n    var style = document.createElement('style');\n    style.setAttribute('type', 'text/css');\n    style.setAttribute('id', 'vanilla-color-picker-style');\n    style.innerHTML = basicCSS;\n    var firstInHead = global.document.head.children[0];\n    if (firstInHead) {\n      global.document.head.insertBefore(style, firstInHead);\n    } else {\n      global.document.head.appendChild(style);\n    }\n\n  }\n\n  function MessageMediator() {\n    this.subscribers = {};\n    this.on = function(eventName, callback) {\n      this.subscribers[eventName] = this.subscribers[eventName] || [];\n      this.subscribers[eventName].push(callback);\n      return this;\n    };\n\n    this.emit = function(eventName) {\n      var arguments_ = arguments;\n      (this.subscribers[eventName] || []).forEach(function(callback) {\n        callback.apply(null, Array.prototype.splice.call(arguments_, 1));\n      });\n    };\n  }\n\n  function SinglePicker(elem, colors, className) {\n    MessageMediator.apply(this);\n    this.targetElem = elem;\n    this.elem = null;\n    var this_ = this;\n\n    this._initialize = function() {\n      this._createPickerElement();\n\n      this._positionPickerElement();\n      this._addEventListeners();\n    };\n\n    this.destroy = function() {\n      try {\n        this.elem.parentNode.removeChild(this.elem);\n      } catch (e) {\n        // http://stackoverflow.com/a/22934552\n      }\n    };\n\n    this._positionPickerElement = function() {\n      var left = this.targetElem.offsetLeft;\n      var top = this.targetElem.offsetTop;\n      var height = this.targetElem.offsetHeight;\n      this.elem.style.left = left + 'px';\n      this.elem.style.top = (top + height) + 'px';\n    };\n\n    this._onFocusLost = function() {\n      setTimeout(function() {\n        if (this_.elem.contains(document.activeElement)) {\n          // because blur is not propagating\n          document.activeElement.addEventListener('blur', this_._onFocusLost);\n        } else {\n          this_.emit('lostFocus');\n        }\n      }, 1);\n    };\n\n    this._createPickerElement = function() {\n      this.elem = document.createElement('div');\n      this.elem.classList.add('vanilla-color-picker');\n      if (className) {\n        this.elem.classList.add(className);\n      }\n\n      var currentlyChosenColorIndex = colors.indexOf(this.targetElem.dataset.vanillaPickerColor);\n\n      for (var i = 0; i < colors.length; i++) {\n        this.elem.innerHTML += singleColorTpl(colors[i], i + 1, i == currentlyChosenColorIndex);\n      }\n      this.targetElem.parentNode.appendChild(this.elem);\n      this.elem.setAttribute('tabindex', 1);\n\n      var toFocus = currentlyChosenColorIndex > -1 ? currentlyChosenColorIndex : 0;\n\n      this.elem.children[toFocus].focus();\n      this.elem.children[toFocus].addEventListener('blur', this_._onFocusLost);\n    };\n\n    this._addEventListeners = function() {\n      var _this = this;\n      this.elem.addEventListener('click', function(e) {\n        if (e.target.classList.contains('vanilla-color-picker-single-color')) {\n          _this.emit('colorChosen', e.target.dataset.color);\n        }\n      });\n      this.elem.addEventListener('keydown', function(e) {\n        var ENTER = 13;\n        var ESC = 27;\n        var keyCode = e.which || e.keyCode;\n        if (keyCode == ENTER) {\n          _this.emit('colorChosen', e.target.dataset.color);\n        }\n        if (keyCode == ESC) {\n          _this.emit('lostFocus');\n        }\n      });\n    };\n\n    this._initialize();\n  }\n\n  function PickerHolder(elem) {\n    MessageMediator.apply(this);\n    // an alias for more intuitivity\n    this.set = this.emit;\n\n    this.colors = DEFAULT_COLORS;\n    this.className = '';\n    this.elem = elem;\n    this.currentPicker = null;\n    var this_ = this;\n\n    this._initialize = function() {\n      this._addEventListeners();\n    };\n\n    this._addEventListeners = function() {\n      this.elem.addEventListener('click', this.openPicker);\n      this.elem.addEventListener('focus', this.openPicker);\n      this.on('customColors', function(colors) {\n        if (!(colors instanceof Array)) {\n          throw new Error('Colors must be an array');\n        }\n        this_.colors = colors;\n      });\n      this.on('defaultColor', function(color) {\n        if (!this_.elem.dataset.vanillaPickerColor) {\n          this_._updateElemState(color);\n          this_.emit('colorChosen', color, this_.elem);\n        }\n      });\n      this.on('className', function(className) {\n        this_.className = className;\n      });\n    };\n\n    this._updateElemState = function(color) {\n      this.elem.dataset.vanillaPickerColor = color;\n      this.elem.value = color;\n    };\n\n    this.destroyPicker = function() {\n      if (!this_.currentPicker) {\n        return;\n      }\n      this_.currentPicker.destroy();\n      this_.currentPicker = null;\n      this_.emit('pickerClosed');\n    };\n\n    this.openPicker = function() {\n      if (this_.currentPicker) {\n        return;\n      }\n      this_.currentPicker = new SinglePicker(this_.elem, this_.colors, this_.className);\n      this_.currentPicker.on('colorChosen', function(color) {\n        this_._updateElemState(color);\n        this_.destroyPicker();\n        this_.emit('colorChosen', color, this_.elem);\n      });\n      this_.currentPicker.on('lostFocus', function() {\n        this_.emit('lostFocus');\n        this_.destroyPicker();\n      });\n      this_.emit('pickerCreated');\n    };\n\n    this._initialize();\n  }\n\n  function vanillaColorPicker(element, options) {\n    // @todo: move from here\n    addBasicStyling();\n    return new PickerHolder(element, options);\n  }\n\n  if (global.define && global.define.amd) {\n    define([], function() {\n      return vanillaColorPicker;\n    });\n  } else {\n    global.vanillaColorPicker = vanillaColorPicker;\n  }\n})(this || window);\n\nexport default vanillaColorPicker;\n","/**\n * @module M/control/FreeDrawControl\n */\n\nimport FreeDrawImplControl from 'impl/freedrawcontrol';\nimport template from 'templates/freedraw';\nimport vanillaColorPicker from './vanilla-color-picker';\n\nexport default class FreeDrawControl extends M.Control {\n  /**\n   * @classdesc\n   * Main constructor of the class. Creates a PluginControl\n   * control\n   *\n   * @constructor\n   * @extends {M.Control}\n   * @api stable\n   */\n  constructor() {\n    // 1. checks if the implementation can create PluginControl\n    if (M.utils.isUndefined(FreeDrawImplControl)) {\n      M.exception('La implementación usada no puede crear controles FreeDrawControl');\n    }\n    // 2. implementation of this control\n    const impl = new FreeDrawImplControl();\n    super(impl, 'FreeDraw');\n    this.editLayer = new M.layer.Vector({\n      name: 'freeDrawLayer',\n      source: {},\n      extract: false,\n    });\n    this.impl = impl;\n  }\n\n  /**\n   * This function creates the view\n   *\n   * @public\n   * @function\n   * @param {M.Map} map to add the control\n   * @api stable\n   */\n  createView(map) {\n    this.facadeMap_ = map;\n    map.addLayers(this.editLayer);\n    map.getFeatureHandler().removeLayer(this.editLayer);\n    return new Promise((success, fail) => {\n      const html = M.template.compileSync(template);\n      this.template_ = html;\n      this.template_.querySelector('div#colorPicker').addEventListener('change', e => this.changeColor_(e));\n      this.template_.querySelector('#text').addEventListener('click', e => this.manageDraw_(e));\n      this.template_.querySelector('#point').addEventListener('click', e => this.manageDraw_(e));\n      this.template_.querySelector('#polygon').addEventListener('click', e => this.manageDraw_(e));\n      this.template_.querySelector('#lineString').addEventListener('click', e => this.manageDraw_(e));\n      this.template_.querySelector('#eliminar').addEventListener('click', e => this.removeFeatures_(e));\n      // Se captura evento con el fin de borrar el popup vacio.\n      document.addEventListener('DOMNodeInserted', e => this.handleOnRemovePopup(e));\n      if (this.editLayer.getImpl().getOL3Layer()) { // Cambiar el color si se ha dibujado algo\n        this.impl.setStyle('#ffcc33', this.editLayer.getImpl().getOL3Layer());\n      }\n      success(this.template_);\n    });\n  }\n\n  /**\n   * This function prevent to show empty popup\n   *\n   * @public\n   * @function\n   * @api stable\n   */\n  handleOnRemovePopup(e) {\n    const facadeMap = this.facadeMap_;\n    const currentPopup = this.facadeMap_ ? this.facadeMap_.getPopup() : null;\n    const contextOfPopup = currentPopup ? currentPopup.getContent() : null;\n    if (facadeMap && currentPopup !== null &&\n      contextOfPopup !== null && contextOfPopup.innerText.trim().length === 0) {\n      this.facadeMap_.removePopup(this.facadeMap_.getPopup());\n    }\n\n    // Move the div of the picker Color correctly to be able\n    // to select the color when the position is down.\n    const positionPanel = this.getPanel() && this.getPanel().position;\n    const elementPickerColor = document.querySelector('div#idTrack');\n    if (elementPickerColor && (positionPanel === '.m-bottom.m-right' || positionPanel === '.m-bottom.m-left')) {\n      elementPickerColor.style.top = '-10rem';\n    }\n  }\n\n  /**\n   * This function is called on the control activation\n   *\n   * @public\n   * @function\n   * @api stable\n   */\n  activate() {\n    super.activate();\n  }\n  /**\n   * This function is called on the control deactivation\n   *\n   * @public\n   * @function\n   * @api stable\n   */\n  // deactivate() {\n  //   super.deactivate();\n  // }\n\n  /**\n   * This function gets activation button\n   *\n   * @public\n   * @function\n   * @param {HTML} html of control\n   * @api stable\n   */\n  getActivationButton(html) {\n    return html.querySelector('.m-freedraw button');\n  }\n\n  /**\n   * This function compares controls\n   *\n   * @public\n   * @function\n   * @param {M.Control} control to compare\n   * @api stable\n   */\n  equals(control) {\n    return control instanceof FreeDrawControl;\n  }\n\n  manageDraw_(evt) {\n    let isTheSame = false;\n    const value = evt.target.getAttribute('data-geometry-type');\n\n    isTheSame = this.manageActivatedDeactivated(evt.target);\n    const arrayInteractions = [].concat(this.facadeMap_.getMapImpl().getInteractions().getArray());\n\n    arrayInteractions.forEach((interaction) => {\n      if (this.getImpl().isInteractionInstanceOfDrawOrModify(interaction)) {\n        if (interaction && interaction.J && interaction.J === value) {\n          isTheSame = true;\n        }\n        this.facadeMap_.getMapImpl().removeInteraction(interaction);\n      }\n    });\n\n    if (!isTheSame) {\n      let olLayer = this.editLayer.getImpl().getOL3Layer();\n      if (!olLayer) {\n        olLayer = this.map_.getLayers().find(l => l.name === 'freeDrawLayer').getImpl().getOL3Layer();\n        this.editLayer = this.map_.getLayers().find(l => l.name === 'freeDrawLayer');\n      }\n      let draw = null;\n      draw = this.getImpl()\n        .createNewDrawInteraction(olLayer, value);\n\n      this.facadeMap_.getMapImpl().addInteraction(draw);\n\n      const modify = this.getImpl()\n        .createNewModifyInteraction(olLayer);\n\n      this.facadeMap_.getMapImpl().addInteraction(modify);\n\n      if (evt.target.id === 'text') {\n        draw.on('drawend', (event) => {\n          M.dialog.info(\n            `<div style=\"padding-bottom: 15px;\">\n              <div style=\" padding-bottom: 6px;\">\n                <pan>Texto:<input type=\"text\" style=\"width:97%\" id=\"m-feature-freedrawing-ftext\"></pan>\n              </div>\n              <div style=\"max-width: 99%\">\n                <select style=\" margin-right: 6px;\" id=\"m-feature-freedrawing-ffont\">\n                  <option>Arial</option>\n                  <option>Comic Sans MS</option>\n                  <option>Courier</option>\n                  <option>Monospace</option>\n                  <option>Sans-serif</option>\n                  <option>Times New Roman</option>\n                  <option>Verdana</option>\n                </select>\n                <input type=\"number\" style=\"width: 50px;margin-right: 6px;\" min=\"12\" max=\"48\" value=\"12\"\n                  id=\"m-feature-freedrawing-fsizefont\">\n                <button id=\"m-feature-freedrawing-fbold\" style=\"font-weight: bold;margin-right: 6px;\">N</button>\n                <button id=\"m-feature-freedrawing-fcursive\" style=\"font-style:italic;margin-right: 6px;\">C</button>\n                <div class=\"just-picker-font\" style=\"width: 22px;height: 19px;border: 1px solid black;\n                  display: inline-block;position: absolute;background-color: rgb(0, 0, 0);\"\n                  id=\"m-feature-freedrawing-fcolorfont\"></div>\n              </div>\n            </div>\n            <div>\n              <span>Borde:</span><br>\n              <input type=\"number\" style=\"width: 50px;margin-right: 6px;\" min=\"1\" max=\"10\" value=\"1\"\n                id=\"m-feature-freedrawing-fsizeborder\">\n              <div class=\"just-picker-border\" style=\"width: 22px; height: 19px;border: 1px solid black;\n                display: inline-block;position: absolute; background-color: rgb(0, 0, 0);\"\n                id=\"m-feature-freedrawing-fcolorborder\"></div>\n            </div>`,\n            'AÑADIR TEXTO',\n          );\n          const dialog = document.querySelector('div.m-dialog');\n          // change style popup\n          dialog.querySelector('div.m-title').style.backgroundColor = '#d5006e';\n          dialog.querySelector('div.m-button>button').style.backgroundColor = '#d5006e';\n          const okButton = document.querySelector('div.m-button > button');\n          okButton.parentNode.innerHTML += '';\n          okButton.addEventListener('click', () => {\n            dialog.parentNode.removeChild(dialog);\n          });\n\n          let bold = document.querySelector('button#m-feature-freedrawing-fbold');\n          let cursive = document.querySelector('button#m-feature-freedrawing-fcursive');\n          bold.addEventListener('click', () => {\n            bold.classList.toggle('m-freedrawig-dialog-button-active');\n          });\n          cursive.addEventListener('click', () => {\n            cursive.classList.toggle('m-freedrawig-dialog-button-active');\n          });\n\n          document.querySelector('div.m-dialog>div.m-modal>div.m-content>div.m-button>button').addEventListener('click', () => {\n            const text = document.querySelector('input#m-feature-freedrawing-ftext').value;\n            const font = document.querySelector('select#m-feature-freedrawing-ffont').value;\n            const sizeFont = document.querySelector('input#m-feature-freedrawing-fsizefont').value;\n            bold = document.querySelector('button#m-feature-freedrawing-fbold').classList.length;\n            cursive = document.querySelector('button#m-feature-freedrawing-fcursive').classList.length;\n            const colorFont = document.querySelector('div#m-feature-freedrawing-fcolorfont').style.backgroundColor;\n            const sizeBorder = document.querySelector('input#m-feature-freedrawing-fsizeborder').value;\n            const colorBorder = document.querySelector('div#m-feature-freedrawing-fcolorborder').style.backgroundColor;\n            this.setContent_(\n              event.feature,\n              text,\n              font,\n              sizeFont,\n              bold,\n              cursive,\n              colorFont,\n              sizeBorder,\n              colorBorder,\n            );\n            dialog.parentNode.removeChild(dialog);\n          });\n          const pickerFont = vanillaColorPicker(document.querySelector('div.just-picker-font'));\n          pickerFont.on('colorChosen', (color, targetElem) => {\n            const varTargetElem = targetElem;\n            varTargetElem.style.backgroundColor = color;\n          });\n          pickerFont.set('customColors', ['#fd5308', '#fb9902', '#ffcc33', '#fefe33', '#d0ea2b', '#66b032', '#0391ce', '#0247fe', '#3d01a4', '#8601af', '#a7194b', '#fe2712', '#000000', '#ffffff']);\n          const pickerBorder = vanillaColorPicker(document.querySelector('div.just-picker-border'));\n          pickerBorder.on('colorChosen', (color, targetElem) => {\n            const varTargetElem = targetElem;\n            varTargetElem.style.backgroundColor = color;\n          });\n          pickerBorder.set('customColors', ['#fd5308', '#fb9902', '#ffcc33', '#fefe33', '#d0ea2b', '#66b032', '#0391ce', '#0247fe', '#3d01a4', '#8601af', '#a7194b', '#fe2712', '#000000', '#ffffff']);\n        });\n      }\n    }\n    isTheSame = false;\n  }\n\n  deactivate(target) {\n    const arrayInteractions = [].concat(this.facadeMap_.getMapImpl().getInteractions().getArray());\n    arrayInteractions.forEach((interaction) => {\n      this.getImpl().removeInteraction(interaction);\n    });\n  }\n\n  manageActivatedDeactivated(target) {\n    let isTheSame = false;\n    const panel = document.querySelector('.m-freedrawing-tools-panel');\n    const elements = panel.querySelectorAll('.activated');\n    if (elements && elements != null && elements.length) {\n      for (let i = 0; i < elements.length; i += 1) {\n        const elementAux = elements[0];\n        if (elementAux.className === target.className) {\n          isTheSame = true;\n        }\n        elementAux.className = elementAux.className.replace(/\\bactivated\\b/, '');\n      }\n    }\n    if (!isTheSame) {\n      // eslint-disable-next-line no-param-reassign\n      target.className = `${target.className} activated`;\n    }\n    return isTheSame;\n  }\n\n  desactivateButtoms() {\n    const panel = document.querySelector('.m-freedrawing-tools-panel');\n    const elements = panel.querySelectorAll('.activated');\n    if (elements && elements != null && elements.length) {\n      for (let i = 0; i < elements.length; i += 1) {\n        const evt = { target: elements[0] };\n        this.manageDraw_(evt);\n      }\n    }\n  }\n\n  removeFeatures_() {\n    this.editLayer.clear();\n  }\n\n  destroy() {\n    this.facadeMap_.getMapImpl().removeControl(this);\n    this.facadeMap_ = null;\n  }\n\n  changeColor_() {\n    let olLayer = this.editLayer.getImpl().getOL3Layer();\n    if (!olLayer) {\n      olLayer = this.map_.getLayers().find(l => l.name === 'freeDrawLayer').getImpl().getOL3Layer();\n      this.editLayer = this.map_.getLayers().find(l => l.name === 'freeDrawLayer');\n    }\n    const color = this.template_.querySelector('div#colorPicker>input.colorInput').value;\n    this.impl.setStyle(color, olLayer);\n  }\n\n  setContent_(feature, text, font, sizeFont, bold, cursive, colorFont, sizeBorder, colorBorder) {\n    // eslint-disable-next-line no-param-reassign\n    if (M.utils.isNullOrEmpty(text)) text = 'Texto';\n    // eslint-disable-next-line no-param-reassign\n    bold = bold > 0 ? 'bold' : '';\n    // eslint-disable-next-line no-param-reassign\n    cursive = cursive > 0 ? 'italic' : '';\n    feature.setStyle(this.impl.getStyle2(\n      text,\n      font,\n      sizeFont,\n      bold,\n      cursive,\n      colorFont,\n      sizeBorder,\n      colorBorder,\n    ));\n  }\n}\n","/**\n * @module M/plugin/FreeDraw\n */\nimport 'assets/css/freedraw';\nimport 'assets/css/tinycolorpicker';\nimport tinycolorpicker from './tinycolorpicker.min';\nimport FreeDrawControl from './freedrawcontrol';\nimport api from '../../api';\n\nexport default class FreeDraw extends M.Plugin {\n  /**\n   * @classdesc\n   * Main facade plugin object. This class creates a plugin\n   * object which has an implementation Object\n   *\n   * @constructor\n   * @extends {M.Plugin}\n   * @param {Object} impl implementation object\n   * @api stable\n   */\n  constructor(options = {}) {\n    super();\n    /**\n     * Facade of the map\n     * @private\n     * @type {M.Map}\n     */\n    this.map_ = null;\n\n    /**\n     * Array of controls\n     * @private\n     * @type {Array<M.Control>}\n     */\n    this.controls_ = [];\n\n    /**\n     * Position of the Plugin\n     * Posible values: TR | TL | BL | BR\n     * @type {Enum}\n     */\n    this.position_ = options.position || 'TL';\n    // Adds class if closing arrow has to point left\n    if (this.position_ === 'TL' || this.position_ === 'BL') {\n      this.positionClass_ = 'left';\n    }\n\n    /**\n     * Metadata from api.json\n     * @private\n     * @type {Object}\n     */\n    this.metadata_ = api.metadata;\n  }\n\n  /**\n   * This function adds this plugin into the map\n   *\n   * @public\n   * @function\n   * @param {M.Map} map the map to add the plugin\n   * @api stable\n   */\n  addTo(map) {\n    this.map_ = map;\n    this.control_ = new FreeDrawControl();\n\n    this.control_.on(M.evt.ADDED_TO_PANEL, () => {\n      const picker = document.querySelector('#colorPicker');\n      tinycolorpicker(picker);\n    });\n\n    this.controls_.push(this.control_);\n    this.map_ = map;\n    this.panel_ = new M.ui.Panel('panelFreeDraw', { // M.plugin.freedraw.NAMETOOLS\n      collapsible: true,\n      className: `m-freedrawing-tools ${this.positionClass_}`,\n      collapsedButtonClass: 'g-cartografia-editar2',\n      position: M.ui.position[this.position_],\n      tooltip: 'Dibujo',\n    });\n\n    this.panel_.addControls(this.controls_);\n    map.addPanels(this.panel_);\n  }\n\n  /**\n   * This function destroys this plugin\n   *\n   * @public\n   * @function\n   * @api stable\n   */\n  destroy() {\n    if (this.control_) {\n      this.control_.desactivateButtoms();\n      // eslint-disable-next-line no-underscore-dangle\n      this.control_.removeFeatures_();\n      this.map_.removeControls([this.control_]);\n      [this.control_, this.panel_, this.map_] = [null, null, null];\n    }\n  }\n\n  /**\n   * This function return the control of plugin\n   *\n   * @public\n   * @function\n   * @api stable\n   */\n  getControls() {\n    const aControl = [];\n    aControl.push(this.control_);\n    return aControl;\n  }\n\n  /**\n   * @getter\n   * @public\n   */\n  get name() {\n    return 'freedraw';\n  }\n\n  /**\n   * This function gets metadata plugin\n   *\n   * @public\n   * @function\n   * @api stable\n   */\n  getMetadata() {\n    return this.metadata_;\n  }\n}\n","import M$plugin$FreeDraw from './/facade/js/freedraw';\nimport M$control$FreeDrawControl from './/facade/js/freedrawcontrol';\nimport M$impl$control$FreeDrawControl from './/impl/ol/js/freedrawcontrol';\n\nif (!window.M.plugin) window.M.plugin = {};\nif (!window.M.control) window.M.control = {};\nif (!window.M.impl) window.M.impl = {};\nif (!window.M.impl.control) window.M.impl.control = {};\nwindow.M.plugin.FreeDraw = M$plugin$FreeDraw;\nwindow.M.control.FreeDrawControl = M$control$FreeDrawControl;\nwindow.M.impl.control.FreeDrawControl = M$impl$control$FreeDrawControl;\n"],"sourceRoot":""}