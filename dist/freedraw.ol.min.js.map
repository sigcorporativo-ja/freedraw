{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/facade/js/tinycolorpicker.min.js","webpack:///./src/templates/freedraw.html","webpack:///./src/impl/ol/js/freedrawcontrol.js","webpack:///./src/facade/js/vanilla-color-picker.js","webpack:///./src/facade/js/freedrawcontrol.js","webpack:///./src/facade/js/freedraw.js","webpack:///./src/index.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","a","f","j","b","target","getBoundingClientRect","q","getImageData","clientX","left","clientY","top","data","k","setColor","dispatchEvent","u","colorHex","colorRGB","this","options","arguments","length","e","_defaults","_name","querySelectorAll","document","createElement","getContext","documentElement","createEvent","initEvent","indexOf","hexToRgb","rgbToHex","style","backgroundColor","close","display","exec","parseInt","Array","isNaN","match","appendChild","Image","currentStyle","window","getComputedStyle","backgroundImage","replace","crossOrigin","onload","width","height","drawImage","src","backgroundUrl","preventDefault","stopPropagation","onmousedown","ontouchstart","touches","ontouchmove","ontouchend","onmouseup","onmousemove","g","undefined","define","__WEBPACK_AMD_DEFINE_RESULT__","FreeDrawControl","M","impl","Control","map","html","_this","getMapImpl","getInteractions","forEach","interaction","ol","DoubleClickZoom","dblClickInteraction_","facadeMap_","_get","_getPrototypeOf","setActive","on","evt","customEvt","CustomEvent","detail","coordinate","bubbles","getContainer","removeEventListener","Draw","Modify","olLayer","type","source","getSource","deleteCondition","event","events","condition","shiftKeyOnly","singleClick","removeInteraction","color","setStyle","getStyle1","Style","fill","Fill","stroke","Stroke","image","Circle","radius","text","font","sizeFont","bold","cursive","colorFont","sizeBorder","colorBorder","Text","concat","global","basicCSS","DEFAULT_COLORS","MessageMediator","subscribers","eventName","callback","push","emit","arguments_","apply","splice","SinglePicker","elem","colors","className","targetElem","this_","_initialize","_createPickerElement","_positionPickerElement","_addEventListeners","destroy","parentNode","removeChild","offsetLeft","offsetTop","offsetHeight","_onFocusLost","setTimeout","contains","activeElement","addEventListener","classList","add","currentlyChosenColorIndex","dataset","vanillaPickerColor","innerHTML","setAttribute","toFocus","children","focus","keyCode","which","PickerHolder","set","currentPicker","openPicker","Error","_updateElemState","destroyPicker","vanillaColorPicker","element","getElementById","firstInHead","head","insertBefore","addBasicStyling","amd","freedrawcontrol_classCallCheck","utils","isUndefined","FreeDrawImplControl","exception","freedrawcontrol_possibleConstructorReturn","freedrawcontrol_getPrototypeOf","editLayer","layer","Vector","_this2","addLayers","Promise","success","fail","template","compileSync","template_","querySelector","changeColor_","manageDraw_","removeFeatures_","handleOnRemovePopup","getImpl","getOL3Layer","facadeMap","currentPopup","getPopup","contextOfPopup","getContent","innerText","trim","removePopup","positionPanel","getPanel","position","elementPickerColor","freedrawcontrol_get","control","_this3","isTheSame","getAttribute","manageActivatedDeactivated","getArray","isInteractionInstanceOfDrawOrModify","J","map_","getLayers","find","draw","createNewDrawInteraction","addInteraction","modify","createNewModifyInteraction","id","dialog","info","okButton","toggle","setContent_","feature","pickerFont","pickerBorder","_this4","elements","elementAux","clear","removeControl","isNullOrEmpty","getStyle2","FreeDraw","freedraw_classCallCheck","freedraw_possibleConstructorReturn","freedraw_getPrototypeOf","controls_","position_","positionClass_","metadata_","api","metadata","Plugin","control_","ADDED_TO_PANEL","picker","tinycolorpicker","panel_","ui","Panel","collapsible","collapsedButtonClass","tooltip","addControls","addPanels","desactivateButtoms","removeControls","_ref","aControl","plugin","M$plugin$FreeDraw","M$control$FreeDrawControl","M$impl$control$FreeDrawControl"],"mappings":"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","file":"freedraw.ol.min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 5);\n","/*! tinycolorpicker - v0.9.5 - 2015-11-20\n * http://www.baijs.com/tinycolorpicker\n *\n * Copyright (c) 2015 Maarten Baijs <wieringen@gmail.com>;\n * Licensed under the MIT license */\n/* eslint-disable*/\n! function(a) {\n  \"use strict\";\n\n  function b() {\n    for (var a = 1; a < arguments.length; a++)\n      for (var b in arguments[a]) arguments[a].hasOwnProperty(b) && (arguments[0][b] = arguments[a][b]);\n    return arguments[0]\n  }\n\n  function c(c, f) {\n    function g() { return s && (o = document.createElement(\"canvas\"), l.appendChild(o), q = o.getContext(\"2d\"), h()), i(), k }\n\n    function h() {\n      var b = new Image,\n        c = l.currentStyle || window.getComputedStyle(l, !1),\n        d = c.backgroundImage.replace(/\"/g, \"\").replace(/url\\(|\\)$/gi, \"\");\n      b.crossOrigin = \"Anonymous\", l.style.backgroundImage = \"none\", b.onload = function() { o.width = this.width, o.height = this.height, q.drawImage(b, 0, 0, this.width, this.height) }, b.src = k.options.backgroundUrl || d\n    }\n\n    function i() {\n      var a = t ? \"touchstart\" : \"mousedown\";\n      s && (m[\"on\" + a] = function(a) { a.preventDefault(), a.stopPropagation(), l.style.display = \"block\", document.onmousedown = function() { document.onmousedown = null, k.close() } }, t ? (o.ontouchstart = function(a) { return r = !0, j(a.touches[0]), !1 }, o.ontouchmove = function(a) { return j(a.touches[0]), !1 }, o.ontouchend = function() { return k.close(), !1 }) : (o.onmousedown = function(a) { a.preventDefault(), a.stopPropagation(), r = !0, j(a), document.onmouseup = function() { return document.onmouseup = null, k.close(), !1 } }, o.onmousemove = j))\n    }\n\n    function j(a) {\n      if (r) {\n        var b = a.target.getBoundingClientRect(),\n          d = q.getImageData(a.clientX - b.left, a.clientY - b.top, 1, 1).data;\n        k.setColor(\"rgb(\" + d[0] + \",\" + d[1] + \",\" + d[2] + \")\"), c.dispatchEvent(u, [k.colorHex, k.colorRGB])\n      }\n    }\n    this.options = b({}, e, f), this._defaults = e, this._name = d;\n    var k = this,\n      l = c.querySelectorAll(\".track\")[0],\n      m = c.querySelectorAll(\".color\")[0],\n      n = c.querySelectorAll(\".colorInner\")[0],\n      o = null,\n      p = c.querySelectorAll(\".colorInput\")[0],\n      q = null,\n      r = !1,\n      s = !!document.createElement(\"canvas\").getContext,\n      t = \"ontouchstart\" in document.documentElement,\n      u = document.createEvent(\"HTMLEvents\");\n    return u.initEvent(\"change\", !0, !0), this.colorHex = \"\", this.colorRGB = \"\", this.setColor = function(a) { a.indexOf(\"#\") >= 0 ? (k.colorHex = a, k.colorRGB = k.hexToRgb(k.colorHex)) : (k.colorRGB = a, k.colorHex = k.rgbToHex(k.colorRGB)), n.style.backgroundColor = k.colorHex, p.value = k.colorHex }, this.close = function() { r = !1, l.style.display = \"none\" }, this.hexToRgb = function(a) { var b = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(a); return \"rgb(\" + parseInt(b[1], 16) + \",\" + parseInt(b[2], 16) + \",\" + parseInt(b[3], 16) + \")\" }, this.rgbToHex = function(a) {\n      function b(a) { var b = new Array(\"0\", \"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\", \"A\", \"B\", \"C\", \"D\", \"E\", \"F\"); return isNaN(a) ? \"00\" : b[(a - a % 16) / 16] + b[a % 16] }\n      var c = a.match(/\\d+/g);\n      return \"#\" + b(c[0]) + b(c[1]) + b(c[2])\n    }, g()\n  }\n  var d = \"tinycolorpicker\",\n    e = { backgroundUrl: null },\n    f = function(a, b) { return new c(a, b) };\n  \"function\" == typeof define && define.amd ? define(function() { return f }) : \"object\" == typeof module && module.exports ? module.exports = f : a.tinycolorpicker = f\n}(window);\n","module.exports = \"<div class=\\\"m-panel-controls m-freedrawing-tools-panel\\\">\\n    <div class=\\\"m-control m-comapactionseliminar-toolspanel tools-icon\\\">\\n        <button id=\\\"eliminar\\\" class=\\\"g-cartografia-papelera\\\" title=\\\"Eliminar\\\"></button>\\n    </div>\\n    <div class=\\\"m-control m-freedrawingtexto-toolspanel tools-icon\\\">\\n        <button id=\\\"text\\\" data-geometry-type=\\\"Point\\\" class=\\\"g-cartografia-comentarios\\\" title=\\\"Pintar Texto\\\"></button>\\n    </div>\\n    <div class=\\\"m-control m-freedrawingpoligono-toolspanel tools-icon\\\">\\n        <button id=\\\"polygon\\\" data-geometry-type=\\\"Polygon\\\" class=\\\"g-cartografia-poligono\\\" title=\\\"Pintar poligono\\\"></button>\\n    </div>\\n    <div class=\\\"m-control m-freedrawinglinea-toolspanel tools-icon\\\">\\n        <button id=\\\"lineString\\\" data-geometry-type=\\\"LineString\\\" class=\\\"g-cartografia-lineas\\\" title=\\\"Pintar linea\\\"></button>\\n    </div>\\n    <div class=\\\"m-control m-freedrawingpunto-toolspanel tools-icon\\\">\\n        <button id=\\\"point\\\" data-geometry-type=\\\"Point\\\" class=\\\"g-cartografia-gps3\\\" title=\\\"Pintar punto\\\"></button>\\n    </div>\\n    <div class=\\\"m-control tools-icon\\\" title=\\\"Color\\\">\\n        <div id=\\\"colorPicker\\\">\\n            <a class=\\\"color\\\">\\n                <div class=\\\"colorInner\\\"></div>\\n            </a>\\n            <div id=\\\"idTrack\\\" class=\\\"track\\\"></div>\\n            <ul class=\\\"dropdown\\\">\\n                <li></li>\\n            </ul>\\n            <input type=\\\"hidden\\\" class=\\\"colorInput\\\" value=\\\"#ffcc33\\\" />\\n        </div>\\n    </div>\\n</div>\";","/**\n * @module M/impl/control/FreeDrawControl\n */\nexport default class FreeDrawControl extends M.impl.Control {\n  /**\n   * This function adds the control to the specified map\n   *\n   * @public\n   * @function\n   * @param {M.Map} map to add the plugin\n   * @param {HTMLElement} html of the plugin\n   * @api stable\n   */\n  addTo(map, html) {\n    // obtengo la interacción por defecto del dblclick para manejarla\n    const olMap = map.getMapImpl();\n    olMap.getInteractions().forEach((interaction) => {\n      if (interaction instanceof ol.interaction.DoubleClickZoom) {\n        this.dblClickInteraction_ = interaction;\n      }\n    });\n    this.facadeMap_ = map;\n    // super addTo - don't delete\n    super.addTo(map, html);\n  }\n\n  // Add your own functions\n  activateClick(map) {\n    // desactivo el zoom al dobleclick\n    this.dblClickInteraction_.setActive(false);\n\n    // añado un listener al evento dblclick\n    const olMap = map.getMapImpl();\n    olMap.on('dblclick', (evt) => {\n      // disparo un custom event con las coordenadas del dobleclick\n      const customEvt = new CustomEvent('mapclicked', {\n        detail: evt.coordinate,\n        bubbles: true,\n      });\n      map.getContainer().dispatchEvent(customEvt);\n    });\n  }\n\n  deactivateClick(map) {\n    // activo el zoom al dobleclick\n    this.dblClickInteraction_.setActive(true);\n\n    // elimino el listener del evento\n    map.getMapImpl().removeEventListener('dblclick');\n  }\n\n  /**\n   * This function checks if an interaction is\n   * an instance of Draw or Modify\n   */\n  isInteractionInstanceOfDrawOrModify(interaction) {\n    if (interaction instanceof ol.interaction.Draw ||\n      interaction instanceof ol.interaction.Modify) {\n      return true;\n    }\n    return false;\n  }\n\n  /**\n   * This function creates a new ol.interaction.Draw object\n   * @param {*} features\n   * @param {*} type\n   */\n  createNewDrawInteraction(olLayer, type) {\n    const newDraw = new ol.interaction.Draw({\n      source: olLayer.getSource(),\n      type,\n    });\n    return newDraw;\n  }\n\n  /**\n   * This function creates a new ol.interaction.Modify object\n   * @param {*} features\n   */\n  createNewModifyInteraction(olLayer) {\n    return new ol.interaction.Modify({\n      source: olLayer.getSource(),\n      deleteCondition: (event) => {\n        return ol.events.condition.shiftKeyOnly(event) &&\n          ol.events.condition.singleClick(event);\n      },\n    });\n  }\n\n  removeInteraction(interaction) {\n    if (interaction instanceof ol.interaction.Draw ||\n      interaction instanceof ol.interaction.Modify) {\n      this.facadeMap_.getMapImpl().removeInteraction(interaction);\n    }\n  }\n\n  setStyle(color, olLayer) {\n    if (olLayer) {\n      olLayer.setStyle(this.getStyle1(color));\n    }\n  }\n\n  getStyle1(color) {\n    const newStyle = new ol.style.Style({\n      fill: new ol.style.Fill({\n        color: 'rgba(255, 255, 255, 0.5)',\n      }),\n      stroke: new ol.style.Stroke({\n        color,\n        width: 2,\n      }),\n      image: new ol.style.Circle({\n        radius: 7,\n        fill: new ol.style.Fill({\n          color,\n        }),\n      }),\n    });\n    return newStyle;\n  }\n\n  getStyle2(text, font, sizeFont, bold, cursive, colorFont, sizeBorder, colorBorder) {\n    return new ol.style.Style({\n      text: new ol.style.Text({\n        text,\n        font: `${bold} ${cursive} ${sizeFont}px ${font}`,\n        fill: new ol.style.Fill({\n          color: colorFont,\n        }),\n        stroke: new ol.style.Stroke({\n          color: colorBorder,\n          width: sizeBorder,\n        }),\n      }),\n      stroke: new ol.style.Stroke({\n        color: 'rgba(213, 0, 110, 0)',\n        width: 0,\n      }),\n      fill: new ol.style.Fill({\n        color: 'rgba(213, 0, 110, 0)',\n      }),\n    });\n  }\n}\n","// ============================================================\n//\n// Vanilla Color Picker v 0.1.8\n//\n// http://github.com/miroshko/vanilla-color-picker\n//\n// This project is licensed under the terms of the MIT license.\n//\n// ============================================================\n\n/* eslint-disable*/\n(function vanillaColorPicker(global) {\n\n  // @todo: bind in as a build step, so css is readable\n  var basicCSS = '.vanilla-color-picker { display: inline-block; position: absolute; z-index: 100; padding: 5px; background-color: #fff; box-shadow: 1px 1px 2px 1px rgba(0,0,0,0.3) } .vanilla-color-picker-single-color { display: inline-block; width: 20px; height: 20px; margin: 1px; border-radius: 2px; }';\n\n  function singleColorTpl(color, index, picked) {\n    var pickedClass = picked ? \"vanilla-color-picker-single-color-picked\" : '';\n    return '<div class=\"vanilla-color-picker-single-color ' + pickedClass + '\" tabindex=\"' + index + '\" data-color=\"' + color + '\" style=\"background-color:' + color + '\"></div>';\n  }\n  var DEFAULT_COLORS = ['red', 'yellow', 'green'];\n\n  function addBasicStyling() {\n    if (document.getElementById('vanilla-color-picker-style')) {\n      return;\n    }\n    var style = document.createElement('style');\n    style.setAttribute('type', 'text/css');\n    style.setAttribute('id', 'vanilla-color-picker-style');\n    style.innerHTML = basicCSS;\n    var firstInHead = global.document.head.children[0];\n    if (firstInHead) {\n      global.document.head.insertBefore(style, firstInHead);\n    } else {\n      global.document.head.appendChild(style);\n    }\n\n  }\n\n  function MessageMediator() {\n    this.subscribers = {};\n    this.on = function(eventName, callback) {\n      this.subscribers[eventName] = this.subscribers[eventName] || [];\n      this.subscribers[eventName].push(callback);\n      return this;\n    };\n\n    this.emit = function(eventName) {\n      var arguments_ = arguments;\n      (this.subscribers[eventName] || []).forEach(function(callback) {\n        callback.apply(null, Array.prototype.splice.call(arguments_, 1));\n      });\n    };\n  }\n\n  function SinglePicker(elem, colors, className) {\n    MessageMediator.apply(this);\n    this.targetElem = elem;\n    this.elem = null;\n    var this_ = this;\n\n    this._initialize = function() {\n      this._createPickerElement();\n\n      this._positionPickerElement();\n      this._addEventListeners();\n    };\n\n    this.destroy = function() {\n      try {\n        this.elem.parentNode.removeChild(this.elem);\n      } catch (e) {\n        // http://stackoverflow.com/a/22934552\n      }\n    };\n\n    this._positionPickerElement = function() {\n      var left = this.targetElem.offsetLeft;\n      var top = this.targetElem.offsetTop;\n      var height = this.targetElem.offsetHeight;\n      this.elem.style.left = left + 'px';\n      this.elem.style.top = (top + height) + 'px';\n    };\n\n    this._onFocusLost = function() {\n      setTimeout(function() {\n        if (this_.elem.contains(document.activeElement)) {\n          // because blur is not propagating\n          document.activeElement.addEventListener('blur', this_._onFocusLost);\n        } else {\n          this_.emit('lostFocus');\n        }\n      }, 1);\n    };\n\n    this._createPickerElement = function() {\n      this.elem = document.createElement('div');\n      this.elem.classList.add('vanilla-color-picker');\n      if (className) {\n        this.elem.classList.add(className);\n      }\n\n      var currentlyChosenColorIndex = colors.indexOf(this.targetElem.dataset.vanillaPickerColor);\n\n      for (var i = 0; i < colors.length; i++) {\n        this.elem.innerHTML += singleColorTpl(colors[i], i + 1, i == currentlyChosenColorIndex);\n      }\n      this.targetElem.parentNode.appendChild(this.elem);\n      this.elem.setAttribute('tabindex', 1);\n\n      var toFocus = currentlyChosenColorIndex > -1 ? currentlyChosenColorIndex : 0;\n\n      this.elem.children[toFocus].focus();\n      this.elem.children[toFocus].addEventListener('blur', this_._onFocusLost);\n    };\n\n    this._addEventListeners = function() {\n      var _this = this;\n      this.elem.addEventListener('click', function(e) {\n        if (e.target.classList.contains('vanilla-color-picker-single-color')) {\n          _this.emit('colorChosen', e.target.dataset.color);\n        }\n      });\n      this.elem.addEventListener('keydown', function(e) {\n        var ENTER = 13;\n        var ESC = 27;\n        var keyCode = e.which || e.keyCode;\n        if (keyCode == ENTER) {\n          _this.emit('colorChosen', e.target.dataset.color);\n        }\n        if (keyCode == ESC) {\n          _this.emit('lostFocus');\n        }\n      });\n    };\n\n    this._initialize();\n  }\n\n  function PickerHolder(elem) {\n    MessageMediator.apply(this);\n    // an alias for more intuitivity\n    this.set = this.emit;\n\n    this.colors = DEFAULT_COLORS;\n    this.className = '';\n    this.elem = elem;\n    this.currentPicker = null;\n    var this_ = this;\n\n    this._initialize = function() {\n      this._addEventListeners();\n    };\n\n    this._addEventListeners = function() {\n      this.elem.addEventListener('click', this.openPicker);\n      this.elem.addEventListener('focus', this.openPicker);\n      this.on('customColors', function(colors) {\n        if (!(colors instanceof Array)) {\n          throw new Error('Colors must be an array');\n        }\n        this_.colors = colors;\n      });\n      this.on('defaultColor', function(color) {\n        if (!this_.elem.dataset.vanillaPickerColor) {\n          this_._updateElemState(color);\n          this_.emit('colorChosen', color, this_.elem);\n        }\n      });\n      this.on('className', function(className) {\n        this_.className = className;\n      });\n    };\n\n    this._updateElemState = function(color) {\n      this.elem.dataset.vanillaPickerColor = color;\n      this.elem.value = color;\n    };\n\n    this.destroyPicker = function() {\n      if (!this_.currentPicker) {\n        return;\n      }\n      this_.currentPicker.destroy();\n      this_.currentPicker = null;\n      this_.emit('pickerClosed');\n    };\n\n    this.openPicker = function() {\n      if (this_.currentPicker) {\n        return;\n      }\n      this_.currentPicker = new SinglePicker(this_.elem, this_.colors, this_.className);\n      this_.currentPicker.on('colorChosen', function(color) {\n        this_._updateElemState(color);\n        this_.destroyPicker();\n        this_.emit('colorChosen', color, this_.elem);\n      });\n      this_.currentPicker.on('lostFocus', function() {\n        this_.emit('lostFocus');\n        this_.destroyPicker();\n      });\n      this_.emit('pickerCreated');\n    };\n\n    this._initialize();\n  }\n\n  function vanillaColorPicker(element, options) {\n    // @todo: move from here\n    addBasicStyling();\n    return new PickerHolder(element, options);\n  }\n\n  if (global.define && global.define.amd) {\n    define([], function() {\n      return vanillaColorPicker;\n    });\n  } else {\n    global.vanillaColorPicker = vanillaColorPicker;\n  }\n})(this || window);\n\nexport default vanillaColorPicker;\n","/**\n * @module M/control/FreeDrawControl\n */\n\nimport FreeDrawImplControl from 'impl/freedrawcontrol';\nimport template from 'templates/freedraw';\nimport vanillaColorPicker from './vanilla-color-picker';\n\nexport default class FreeDrawControl extends M.Control {\n  /**\n   * @classdesc\n   * Main constructor of the class. Creates a PluginControl\n   * control\n   *\n   * @constructor\n   * @extends {M.Control}\n   * @api stable\n   */\n  constructor() {\n    // 1. checks if the implementation can create PluginControl\n    if (M.utils.isUndefined(FreeDrawImplControl)) {\n      M.exception('La implementación usada no puede crear controles FreeDrawControl');\n    }\n    // 2. implementation of this control\n    const impl = new FreeDrawImplControl();\n    super(impl, 'FreeDraw');\n    this.editLayer = new M.layer.Vector({\n      name: 'freeDrawLayer',\n      source: {},\n    });\n    this.impl = impl;\n  }\n\n  /**\n   * This function creates the view\n   *\n   * @public\n   * @function\n   * @param {M.Map} map to add the control\n   * @api stable\n   */\n  createView(map) {\n    this.facadeMap_ = map;\n    map.addLayers(this.editLayer);\n    return new Promise((success, fail) => {\n      const html = M.template.compileSync(template);\n      this.template_ = html;\n      this.template_.querySelector('div#colorPicker').addEventListener('change', e => this.changeColor_(e));\n      this.template_.querySelector('#text').addEventListener('click', e => this.manageDraw_(e));\n      this.template_.querySelector('#point').addEventListener('click', e => this.manageDraw_(e));\n      this.template_.querySelector('#polygon').addEventListener('click', e => this.manageDraw_(e));\n      this.template_.querySelector('#lineString').addEventListener('click', e => this.manageDraw_(e));\n      this.template_.querySelector('#eliminar').addEventListener('click', e => this.removeFeatures_(e));\n      // Se captura evento con el fin de borrar el popup vacio.\n      document.addEventListener('DOMNodeInserted', e => this.handleOnRemovePopup(e));\n      if (this.editLayer.getImpl().getOL3Layer()) { // Cambiar el color si se ha dibujado algo\n        this.impl.setStyle('#ffcc33', this.editLayer.getImpl().getOL3Layer());\n      }\n      success(this.template_);\n    });\n  }\n\n  /**\n   * This function prevent to show empty popup\n   *\n   * @public\n   * @function\n   * @api stable\n   */\n  handleOnRemovePopup(e) {\n    const facadeMap = this.facadeMap_;\n    const currentPopup = this.facadeMap_ ? this.facadeMap_.getPopup() : null;\n    const contextOfPopup = currentPopup ? currentPopup.getContent() : null;\n    if (facadeMap && currentPopup !== null &&\n      contextOfPopup !== null && contextOfPopup.innerText.trim().length === 0) {\n      this.facadeMap_.removePopup(this.facadeMap_.getPopup());\n    }\n\n    // Move the div of the picker Color correctly to be able\n    // to select the color when the position is down.\n    const positionPanel = this.getPanel() && this.getPanel().position;\n    const elementPickerColor = document.querySelector('div#idTrack');\n    if (elementPickerColor && (positionPanel === '.m-bottom.m-right' || positionPanel === '.m-bottom.m-left')) {\n      elementPickerColor.style.top = '-10rem';\n    }\n  }\n\n  /**\n   * This function is called on the control activation\n   *\n   * @public\n   * @function\n   * @api stable\n   */\n  activate() {\n    super.activate();\n  }\n  /**\n   * This function is called on the control deactivation\n   *\n   * @public\n   * @function\n   * @api stable\n   */\n  // deactivate() {\n  //   super.deactivate();\n  // }\n\n  /**\n   * This function gets activation button\n   *\n   * @public\n   * @function\n   * @param {HTML} html of control\n   * @api stable\n   */\n  getActivationButton(html) {\n    return html.querySelector('.m-freedraw button');\n  }\n\n  /**\n   * This function compares controls\n   *\n   * @public\n   * @function\n   * @param {M.Control} control to compare\n   * @api stable\n   */\n  equals(control) {\n    return control instanceof FreeDrawControl;\n  }\n\n  manageDraw_(evt) {\n    let isTheSame = false;\n    const value = evt.target.getAttribute('data-geometry-type');\n\n    isTheSame = this.manageActivatedDeactivated(evt.target);\n    const arrayInteractions = [].concat(this.facadeMap_.getMapImpl().getInteractions().getArray());\n\n    arrayInteractions.forEach((interaction) => {\n      if (this.getImpl().isInteractionInstanceOfDrawOrModify(interaction)) {\n        if (interaction && interaction.J && interaction.J === value) {\n          isTheSame = true;\n        }\n        this.facadeMap_.getMapImpl().removeInteraction(interaction);\n      }\n    });\n\n    if (!isTheSame) {\n      let olLayer = this.editLayer.getImpl().getOL3Layer();\n      if (!olLayer) {\n        olLayer = this.map_.getLayers().find(l => l.name === 'freeDrawLayer').getImpl().getOL3Layer();\n        this.editLayer = this.map_.getLayers().find(l => l.name === 'freeDrawLayer');\n      }\n      let draw = null;\n      draw = this.getImpl()\n        .createNewDrawInteraction(olLayer, value);\n\n      this.facadeMap_.getMapImpl().addInteraction(draw);\n\n      const modify = this.getImpl()\n        .createNewModifyInteraction(olLayer);\n\n      this.facadeMap_.getMapImpl().addInteraction(modify);\n\n      if (evt.target.id === 'text') {\n        draw.on('drawend', (event) => {\n          M.dialog.info(\n            `<div style=\"padding-bottom: 15px;\">\n              <div style=\" padding-bottom: 6px;\">\n                <pan>Texto:<input type=\"text\" style=\"width:97%\" id=\"m-feature-freedrawing-ftext\"></pan>\n              </div>\n              <div style=\"max-width: 99%\">\n                <select style=\" margin-right: 6px;\" id=\"m-feature-freedrawing-ffont\">\n                  <option>Arial</option>\n                  <option>Comic Sans MS</option>\n                  <option>Courier</option>\n                  <option>Monospace</option>\n                  <option>Sans-serif</option>\n                  <option>Times New Roman</option>\n                  <option>Verdana</option>\n                </select>\n                <input type=\"number\" style=\"width: 50px;margin-right: 6px;\" min=\"12\" max=\"48\" value=\"12\"\n                  id=\"m-feature-freedrawing-fsizefont\">\n                <button id=\"m-feature-freedrawing-fbold\" style=\"font-weight: bold;margin-right: 6px;\">N</button>\n                <button id=\"m-feature-freedrawing-fcursive\" style=\"font-style:italic;margin-right: 6px;\">C</button>\n                <div class=\"just-picker-font\" style=\"width: 22px;height: 19px;border: 1px solid black;\n                  display: inline-block;position: absolute;background-color: rgb(0, 0, 0);\"\n                  id=\"m-feature-freedrawing-fcolorfont\"></div>\n              </div>\n            </div>\n            <div>\n              <span>Borde:</span><br>\n              <input type=\"number\" style=\"width: 50px;margin-right: 6px;\" min=\"1\" max=\"10\" value=\"1\"\n                id=\"m-feature-freedrawing-fsizeborder\">\n              <div class=\"just-picker-border\" style=\"width: 22px; height: 19px;border: 1px solid black;\n                display: inline-block;position: absolute; background-color: rgb(0, 0, 0);\"\n                id=\"m-feature-freedrawing-fcolorborder\"></div>\n            </div>`,\n            'AÑADIR TEXTO',\n          );\n          const dialog = document.querySelector('div.m-dialog');\n          // change style popup\n          dialog.querySelector('div.m-title').style.backgroundColor = '#d5006e';\n          dialog.querySelector('div.m-button>button').style.backgroundColor = '#d5006e';\n          const okButton = document.querySelector('div.m-button > button');\n          okButton.parentNode.innerHTML += '';\n          okButton.addEventListener('click', () => {\n            dialog.parentNode.removeChild(dialog);\n          });\n\n          let bold = document.querySelector('button#m-feature-freedrawing-fbold');\n          let cursive = document.querySelector('button#m-feature-freedrawing-fcursive');\n          bold.addEventListener('click', () => {\n            bold.classList.toggle('m-freedrawig-dialog-button-active');\n          });\n          cursive.addEventListener('click', () => {\n            cursive.classList.toggle('m-freedrawig-dialog-button-active');\n          });\n\n          document.querySelector('div.m-dialog>div.m-modal>div.m-content>div.m-button>button').addEventListener('click', () => {\n            const text = document.querySelector('input#m-feature-freedrawing-ftext').value;\n            const font = document.querySelector('select#m-feature-freedrawing-ffont').value;\n            const sizeFont = document.querySelector('input#m-feature-freedrawing-fsizefont').value;\n            bold = document.querySelector('button#m-feature-freedrawing-fbold').classList.length;\n            cursive = document.querySelector('button#m-feature-freedrawing-fcursive').classList.length;\n            const colorFont = document.querySelector('div#m-feature-freedrawing-fcolorfont').style.backgroundColor;\n            const sizeBorder = document.querySelector('input#m-feature-freedrawing-fsizeborder').value;\n            const colorBorder = document.querySelector('div#m-feature-freedrawing-fcolorborder').style.backgroundColor;\n            this.setContent_(\n              event.feature,\n              text,\n              font,\n              sizeFont,\n              bold,\n              cursive,\n              colorFont,\n              sizeBorder,\n              colorBorder,\n            );\n            dialog.parentNode.removeChild(dialog);\n          });\n          const pickerFont = vanillaColorPicker(document.querySelector('div.just-picker-font'));\n          pickerFont.on('colorChosen', (color, targetElem) => {\n            const varTargetElem = targetElem;\n            varTargetElem.style.backgroundColor = color;\n          });\n          pickerFont.set('customColors', ['#fd5308', '#fb9902', '#ffcc33', '#fefe33', '#d0ea2b', '#66b032', '#0391ce', '#0247fe', '#3d01a4', '#8601af', '#a7194b', '#fe2712', '#000000', '#ffffff']);\n          const pickerBorder = vanillaColorPicker(document.querySelector('div.just-picker-border'));\n          pickerBorder.on('colorChosen', (color, targetElem) => {\n            const varTargetElem = targetElem;\n            varTargetElem.style.backgroundColor = color;\n          });\n          pickerBorder.set('customColors', ['#fd5308', '#fb9902', '#ffcc33', '#fefe33', '#d0ea2b', '#66b032', '#0391ce', '#0247fe', '#3d01a4', '#8601af', '#a7194b', '#fe2712', '#000000', '#ffffff']);\n        });\n      }\n    }\n    isTheSame = false;\n  }\n\n  deactivate(target) {\n    const arrayInteractions = [].concat(this.facadeMap_.getMapImpl().getInteractions().getArray());\n    arrayInteractions.forEach((interaction) => {\n      this.getImpl().removeInteraction(interaction);\n    });\n  }\n\n  manageActivatedDeactivated(target) {\n    let isTheSame = false;\n    const panel = document.querySelector('.m-freedrawing-tools-panel');\n    const elements = panel.querySelectorAll('.activated');\n    if (elements && elements != null && elements.length) {\n      for (let i = 0; i < elements.length; i += 1) {\n        const elementAux = elements[0];\n        if (elementAux.className === target.className) {\n          isTheSame = true;\n        }\n        elementAux.className = elementAux.className.replace(/\\bactivated\\b/, '');\n      }\n    }\n    if (!isTheSame) {\n      // eslint-disable-next-line no-param-reassign\n      target.className = `${target.className} activated`;\n    }\n    return isTheSame;\n  }\n\n  desactivateButtoms() {\n    const panel = document.querySelector('.m-freedrawing-tools-panel');\n    const elements = panel.querySelectorAll('.activated');\n    if (elements && elements != null && elements.length) {\n      for (let i = 0; i < elements.length; i += 1) {\n        const evt = { target: elements[0] };\n        this.manageDraw_(evt);\n      }\n    }\n  }\n\n  removeFeatures_() {\n    this.editLayer.clear();\n  }\n\n  destroy() {\n    this.facadeMap_.getMapImpl().removeControl(this);\n    this.facadeMap_ = null;\n  }\n\n  changeColor_() {\n    let olLayer = this.editLayer.getImpl().getOL3Layer();\n    if (!olLayer) {\n      olLayer = this.map_.getLayers().find(l => l.name === 'freeDrawLayer').getImpl().getOL3Layer();\n      this.editLayer = this.map_.getLayers().find(l => l.name === 'freeDrawLayer');\n    }\n    const color = this.template_.querySelector('div#colorPicker>input.colorInput').value;\n    this.impl.setStyle(color, olLayer);\n  }\n\n  setContent_(feature, text, font, sizeFont, bold, cursive, colorFont, sizeBorder, colorBorder) {\n    // eslint-disable-next-line no-param-reassign\n    if (M.utils.isNullOrEmpty(text)) text = 'Texto';\n    // eslint-disable-next-line no-param-reassign\n    bold = bold > 0 ? 'bold' : '';\n    // eslint-disable-next-line no-param-reassign\n    cursive = cursive > 0 ? 'italic' : '';\n    feature.setStyle(this.impl.getStyle2(\n      text,\n      font,\n      sizeFont,\n      bold,\n      cursive,\n      colorFont,\n      sizeBorder,\n      colorBorder,\n    ));\n  }\n}\n","/**\n * @module M/plugin/FreeDraw\n */\nimport 'assets/css/freedraw';\nimport 'assets/css/tinycolorpicker';\nimport tinycolorpicker from './tinycolorpicker.min';\nimport FreeDrawControl from './freedrawcontrol';\nimport api from '../../api';\n\nexport default class FreeDraw extends M.Plugin {\n  /**\n   * @classdesc\n   * Main facade plugin object. This class creates a plugin\n   * object which has an implementation Object\n   *\n   * @constructor\n   * @extends {M.Plugin}\n   * @param {Object} impl implementation object\n   * @api stable\n   */\n  constructor(options = {}) {\n    super();\n    /**\n     * Facade of the map\n     * @private\n     * @type {M.Map}\n     */\n    this.map_ = null;\n\n    /**\n     * Array of controls\n     * @private\n     * @type {Array<M.Control>}\n     */\n    this.controls_ = [];\n\n    /**\n     * Position of the Plugin\n     * Posible values: TR | TL | BL | BR\n     * @type {Enum}\n     */\n    this.position_ = options.position || 'TL';\n    // Adds class if closing arrow has to point left\n    if (this.position_ === 'TL' || this.position_ === 'BL') {\n      this.positionClass_ = 'left';\n    }\n\n    /**\n     * Metadata from api.json\n     * @private\n     * @type {Object}\n     */\n    this.metadata_ = api.metadata;\n  }\n\n  /**\n   * This function adds this plugin into the map\n   *\n   * @public\n   * @function\n   * @param {M.Map} map the map to add the plugin\n   * @api stable\n   */\n  addTo(map) {\n    this.map_ = map;\n    this.control_ = new FreeDrawControl();\n\n    this.control_.on(M.evt.ADDED_TO_PANEL, () => {\n      const picker = document.querySelector('#colorPicker');\n      tinycolorpicker(picker);\n    });\n\n    this.controls_.push(this.control_);\n    this.map_ = map;\n    this.panel_ = new M.ui.Panel('panelFreeDraw', { // M.plugin.freedraw.NAMETOOLS\n      collapsible: true,\n      className: `m-freedrawing-tools ${this.positionClass_}`,\n      collapsedButtonClass: 'g-cartografia-editar2',\n      position: M.ui.position[this.position_],\n      tooltip: 'Dibujo',\n    });\n\n    this.panel_.addControls(this.controls_);\n    map.addPanels(this.panel_);\n  }\n\n  /**\n   * This function destroys this plugin\n   *\n   * @public\n   * @function\n   * @api stable\n   */\n  destroy() {\n    if (this.control_) {\n      this.control_.desactivateButtoms();\n      // eslint-disable-next-line no-underscore-dangle\n      this.control_.removeFeatures_();\n      this.map_.removeControls([this.control_]);\n      [this.control_, this.panel_, this.map_] = [null, null, null];\n    }\n  }\n\n  /**\n   * This function return the control of plugin\n   *\n   * @public\n   * @function\n   * @api stable\n   */\n  getControls() {\n    const aControl = [];\n    aControl.push(this.control_);\n    return aControl;\n  }\n\n  /**\n   * @getter\n   * @public\n   */\n  get name() {\n    return 'freedraw';\n  }\n\n  /**\n   * This function gets metadata plugin\n   *\n   * @public\n   * @function\n   * @api stable\n   */\n  getMetadata() {\n    return this.metadata_;\n  }\n}\n","import M$plugin$FreeDraw from './/facade/js/freedraw';\nimport M$control$FreeDrawControl from './/facade/js/freedrawcontrol';\nimport M$impl$control$FreeDrawControl from './/impl/ol/js/freedrawcontrol';\n\nif (!window.M.plugin) window.M.plugin = {};\nif (!window.M.control) window.M.control = {};\nif (!window.M.impl) window.M.impl = {};\nif (!window.M.impl.control) window.M.impl.control = {};\nwindow.M.plugin.FreeDraw = M$plugin$FreeDraw;\nwindow.M.control.FreeDrawControl = M$control$FreeDrawControl;\nwindow.M.impl.control.FreeDrawControl = M$impl$control$FreeDrawControl;\n"],"sourceRoot":""}